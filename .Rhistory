install.packages("magick")
library(magick)
library(magick)
library(tidyverse)
path_heics <- dir("~/gallery/", pattern = "HEIC$", full.names = TRUE)
path_heics <- dir("~/gallery/", pattern = "HEIC$", full.names = TRUE)
path_jpeg  <- str_replace(path_heics, "HEIC", "jpeg")
# convert before writing
heics <- map(path_heics, image_read)
jpeg  <- map(heics, image_convert, format = "jpeg")
walk2(jpeg, path_jpeg, image_write, quality = 50)
fs::file_delete(path_heics)
wd()
getwd()
path_heics <- dir("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/", pattern = "HEIC$", full.names = TRUE)
path_heics
path_heics <- dir("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/", pattern = "HEIC$", full.names = TRUE)
path_jpeg  <- str_replace(path_heics, "HEIC", "jpeg")
# convert before writing
heics <- map(path_heics, image_read)
jpeg  <- map(heics, image_convert, format = "jpeg")
walk2(jpeg, path_jpeg, image_write, quality = 50)
fs::file_delete(path_heics)
path_heics <- dir("~C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/", pattern = "HEIC$", full.names = TRUE)
img <- image_read("20210517_211734450_iOS.heic")
img <- image_read("~/gallery/20210517_211734450_iOS.heic")
img <- image_read("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/gallery/20210517_211734450_iOS.heic")
img <- image_read("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/20210517_211734450_iOS.heic")
image_resize(img, "800x")
size_img <- image_resize(img, "800x")
image_write(size_img, "hesperiidae.jpg", format = 'jpg')
reformat_image <- function(filepath, format = c("png", "jpg"), size = "800x"){
format <- match.arg(format)
image_read(filepath) %>%
image_resize(size) %>%
image_write(paste0(basename(filepath), ".", format))
}
reformat_image("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
reformat_image("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/")
reformat_image("~/gallery/")
reformat_image("~/gallery/", "jpg")
reformat_image("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", "jpg")
reformat_image("filepath", "jpg")
reformat_image <- function(filepath, format = c("png", "jpg"), size = "800x"){
format <- match.arg(format)
image_read(filepath) %>%
image_resize(size) %>%
image_write(paste0(basename(filepath), ".", format))
}
reformat_image("filepath", "jpg")
reformat_image("jpg")
reformat_image("C:\Users\jsada\LOCAL_DOCUMENTS\repos\active-website", "jpg")
reformat_image("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website", "jpg")
reformat_image <- function(filepath, format = c("jpg"), size = "800x"){
format <- match.arg(format)
image_read(filepath) %>%
image_resize(size) %>%
image_write(paste0(basename(filepath), ".", format))
}
reformat_image("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website", "jpg")
path_heics <- dir("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/", pattern = "HEIC$", full.names = TRUE)
reformat_image <- function(filepath, format = "jpg", size = "800x"){
format <- match.arg(format)
image_read(filepath) %>%
image_resize(size) %>%
image_write(paste0(basename(filepath), ".", format))
}
reformat_image("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website", "jpg")
reformat_image("~/active-website", "jpg")
path_heics <- dir("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/", pattern = "HEIC$", full.names = TRUE)
path_jpeg  <- str_replace(path_heics, "HEIC", "jpeg")
# convert before writing
heics <- map(path_heics, image_read)
jpeg  <- map(heics, image_convert, format = "jpeg")
walk2(jpeg, path_jpeg, image_write, quality = 50)
fs::file_delete(path_heics)
path_heics <- dir("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/", pattern = ".HEIC", full.names = TRUE)
path_heics <- dir("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website", pattern = ".HEIC", full.names = TRUE)
getwd()
test <- list.files(path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
path_heics <- dir(path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", pattern = "HEIC$", full.names = TRUE)
test <- list.files(path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", pattern = "\\.heic$", full.names = TRUE)
jpg_test <- image_convert(test, "jpg")
jpg_test <- image_write(test, format = "jpg")
object <- image_read(test)
jpg_test <- image_write(object, format = "jpg")
jpg_test <- image_write(object, format = "jpg") %>%
image_resize(jpg_test, "800x")
jpg_test <- image_write(object, format = "jpg") %>%
image_resize(jpg_test, "800x")
size <- image_resize(jpg_test, "800x")
jpg_test
size <- image_resize(object, "800x")
jpg_test <- image_write(object, format = "jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
jpg_test <- image_write(size, format = "jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
test <- list.files(path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", pattern = "\\.heic$", full.names = TRUE)
object <- image_read(test)
size <- image_resize(object, "800x")
jpg_test <- image_write(size, format = "jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
jpg_test <- image_write(size, format = "jpg") %>%
image_read()
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/image.jpg")
jpg_test <- image_convert(size, format = "jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/image.jpg")
jpg_test
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/image.jpg")
image_write(jpg_test)
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/image1.jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", basename(jpg_test))
?image_write
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", paste0(basename("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery"), "."))
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", paste0(basename("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")))
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
test <- list.files(path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery", pattern = "\\.heic$", full.names = TRUE)
object <- image_read(test)
object <- image_read(test)
size <- image_resize(object, "800x")
size <- image_resize(object, "800x")
jpg_test <- image_convert(size, format = "jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/name")
jpg_test
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/name.jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/name.jpg/name1.jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/name.jpg")
jpg_test <- list(image_convert(size, format = "jpg"))
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
jpg_test <- image_convert(size, format = "jpg")
image_write(jpg_test, path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery")
?image_write
image_write(jpg_test, path = c("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery"))
image_write(jpg_test, path = c("C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery/names.jpg"))
tests_purr <- sprintf("output_%02d.jpg", seq_along(jpg_test))
walk2(jpg_test, tests_purr, image_write)
walk(tests_purr, image_write)
img_list <- image_split(jpg_test)
jpg_test
img_list <- image_split(size)
image_split(object)
test
imgs <- map(test, image_read)
img_resized <- map(imgs, ~image_resize(.x, "800x"))
imgs_jpg <- map(img_resized, ~image_convert(.x, format = 'jpg'))
output_files <- str_replace(test, "\\.heic$", ".jpg")
walk2(imgs_jpg, output_files, image_write)
out_new_files <- sprintf("image_%02d.jpg", seq_along(imgs))
test <- list.files(path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery",
pattern = "\\.heic$",
full.names = TRUE)
test %>%
map(image_read) %>%
map(image_resize, "800x") %>%
map(image_convert, "jpg") %>%
(\(imgs) walk2(
imgs,
str_replace(files, "\\.heic$", ".jpg"),
image_write))
test %>%
map(image_read) %>%
map(image_resize, "800x") %>%
map(image_convert, "jpg") %>%
(\(imgs) walk2(
imgs,
str_replace(test, "\\.heic$", ".jpg"),
image_write))
test %>%
map(image_read) %>%
map(image_resize, "800x") %>%
map(image_convert, "jpg") %>%
(\(imgs) walk2(
imgs,
str_replace(test, "\\.heic$", ".jpg"),
image_write))
test <- list.files(path = "C:/Users/jsada/LOCAL_DOCUMENTS/repos/active-website/gallery",
pattern = "\\.heic$",
full.names = TRUE)
test %>%
map(image_read) %>%
map(image_resize, "800x") %>%
map(image_convert, "jpg") %>%
(\(imgs) walk2(
imgs,
str_replace(test, "\\.heic$", ".jpg"),
image_write))
